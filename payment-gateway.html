<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commercial License - Identity Protocol</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.paypal.com/sdk/js?client-id=your-paypal-client-id&currency=USD"></script>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="max-w-4xl mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-900 mb-4">Commercial License</h1>
            <p class="text-xl text-gray-600">Purchase a commercial license for Identity Protocol</p>
        </div>

        <!-- License Options -->
        <div class="grid md:grid-cols-2 gap-8 mb-8">
            <!-- Commercial License -->
            <div class="bg-white rounded-lg shadow-lg p-6 border-2 border-blue-200">
                <div class="text-center mb-6">
                    <h3 class="text-2xl font-bold text-gray-900 mb-2">Commercial License</h3>
                    <div class="text-4xl font-bold text-blue-600 mb-2">$99<span class="text-lg text-gray-500">/month</span></div>
                    <p class="text-gray-600">Perfect for growing businesses</p>
                </div>
                
                <ul class="space-y-3 mb-6">
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Up to 10,000 users
                    </li>
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Basic support
                    </li>
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Standard API access
                    </li>
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Revenue tracking
                    </li>
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Commercial use rights
                    </li>
                </ul>

                <button onclick="selectLicense('commercial')" class="w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors">
                    Select Commercial License
                </button>
            </div>

            <!-- Enterprise License -->
            <div class="bg-white rounded-lg shadow-lg p-6 border-2 border-purple-200">
                <div class="text-center mb-6">
                    <h3 class="text-2xl font-bold text-gray-900 mb-2">Enterprise License</h3>
                    <div class="text-4xl font-bold text-purple-600 mb-2">$499<span class="text-lg text-gray-500">/month</span></div>
                    <p class="text-gray-600">For large organizations</p>
                </div>
                
                <ul class="space-y-3 mb-6">
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Unlimited users
                    </li>
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Priority support
                    </li>
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Advanced API access
                    </li>
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Custom integrations
                    </li>
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        Revenue sharing
                    </li>
                    <li class="flex items-center">
                        <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                        White-label options
                    </li>
                </ul>

                <button onclick="selectLicense('enterprise')" class="w-full bg-purple-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-purple-700 transition-colors">
                    Select Enterprise License
                </button>
            </div>
        </div>

        <!-- Payment Form (Hidden by default) -->
        <div id="paymentForm" class="hidden bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-6">Complete Your Purchase</h2>
            
            <!-- License Summary -->
            <div class="bg-gray-50 rounded-lg p-4 mb-6">
                <h3 class="font-semibold text-gray-900 mb-2">License Summary</h3>
                <div id="licenseSummary" class="text-gray-600"></div>
            </div>

            <!-- Customer Information -->
            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Company Name *</label>
                    <input type="text" id="companyName" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
                    <input type="email" id="email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
            </div>

            <!-- Payment Method Selection -->
            <div class="mb-6">
                <h3 class="font-semibold text-gray-900 mb-4">Payment Method</h3>
                <div class="space-y-3">
                    <label class="flex items-center">
                        <input type="radio" name="paymentMethod" value="paypal" checked class="mr-3" onchange="togglePaymentMethod()">
                        <span>PayPal</span>
                    </label>
                    <label class="flex items-center">
                        <input type="radio" name="paymentMethod" value="crypto" class="mr-3" onchange="togglePaymentMethod()">
                        <span>Cryptocurrency (5% discount)</span>
                    </label>
                </div>
            </div>

            <!-- Crypto Payment Options (Hidden by default) -->
            <div id="cryptoOptions" class="hidden mb-6">
                <h3 class="font-semibold text-gray-900 mb-4">Select Cryptocurrency</h3>
                <div class="grid grid-cols-3 gap-4">
                    <label class="flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50">
                        <input type="radio" name="cryptoCurrency" value="BTC" checked class="mr-3">
                        <div>
                            <div class="font-medium">Bitcoin</div>
                            <div class="text-sm text-gray-500">BTC</div>
                        </div>
                    </label>
                    <label class="flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50">
                        <input type="radio" name="cryptoCurrency" value="ETH" class="mr-3">
                        <div>
                            <div class="font-medium">Ethereum</div>
                            <div class="text-sm text-gray-500">ETH</div>
                        </div>
                    </label>
                    <label class="flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50">
                        <input type="radio" name="cryptoCurrency" value="XRP" class="mr-3">
                        <div>
                            <div class="font-medium">Ripple</div>
                            <div class="text-sm text-gray-500">XRP</div>
                        </div>
                    </label>
                </div>
            </div>

            <!-- PayPal Button -->
            <div id="paypalButton" class="mb-6"></div>

            <!-- Crypto Payment Details -->
            <div id="cryptoPayment" class="hidden mb-6">
                <div class="bg-gray-50 rounded-lg p-4">
                    <h3 class="font-semibold text-gray-900 mb-4">Crypto Payment Details</h3>
                    <div id="cryptoDetails" class="space-y-3"></div>
                </div>
            </div>

            <!-- Back Button -->
            <button onclick="backToSelection()" class="bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors">
                ← Back to License Selection
            </button>
        </div>
    </div>

    <script>
        let selectedLicense = null;
        let selectedPrice = 0;

        // Crypto addresses (replace with your actual addresses)
        const cryptoAddresses = {
            BTC: 'bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh',
            ETH: '0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6',
            XRP: 'rHb9CJAWyB4rj91VRWn96DkukG4bwdtyTh'
        };

        // Mock crypto prices (in production, fetch from API)
        const cryptoPrices = {
            BTC: 45000,
            ETH: 3000,
            XRP: 0.5
        };

        function selectLicense(type) {
            selectedLicense = type;
            selectedPrice = type === 'commercial' ? 99 : 499;
            
            // Update license summary
            document.getElementById('licenseSummary').innerHTML = `
                <div class="flex justify-between">
                    <span>${type === 'commercial' ? 'Commercial' : 'Enterprise'} License</span>
                    <span>$${selectedPrice}/month</span>
                </div>
            `;
            
            // Show payment form
            document.getElementById('paymentForm').classList.remove('hidden');
            
            // Scroll to payment form
            document.getElementById('paymentForm').scrollIntoView({ behavior: 'smooth' });
        }

        function backToSelection() {
            document.getElementById('paymentForm').classList.add('hidden');
            selectedLicense = null;
            selectedPrice = 0;
        }

        function togglePaymentMethod() {
            const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
            
            if (paymentMethod === 'crypto') {
                document.getElementById('cryptoOptions').classList.remove('hidden');
                document.getElementById('paypalButton').classList.add('hidden');
                document.getElementById('cryptoPayment').classList.remove('hidden');
                updateCryptoPayment();
            } else {
                document.getElementById('cryptoOptions').classList.add('hidden');
                document.getElementById('paypalButton').classList.remove('hidden');
                document.getElementById('cryptoPayment').classList.add('hidden');
            }
        }

        function updateCryptoPayment() {
            const cryptoCurrency = document.querySelector('input[name="cryptoCurrency"]:checked').value;
            const discount = 0.05; // 5% discount
            const discountedPrice = selectedPrice * (1 - discount);
            const cryptoAmount = discountedPrice / cryptoPrices[cryptoCurrency];
            
            document.getElementById('cryptoDetails').innerHTML = `
                <div class="flex justify-between">
                    <span>Original Price:</span>
                    <span>$${selectedPrice}</span>
                </div>
                <div class="flex justify-between">
                    <span>Discount (5%):</span>
                    <span>-$${(selectedPrice * discount).toFixed(2)}</span>
                </div>
                <div class="flex justify-between font-semibold">
                    <span>Final Price:</span>
                    <span>$${discountedPrice.toFixed(2)}</span>
                </div>
                <div class="border-t pt-3 mt-3">
                    <div class="flex justify-between">
                        <span>Amount to send:</span>
                        <span>${cryptoAmount.toFixed(8)} ${cryptoCurrency}</span>
                    </div>
                    <div class="mt-2">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Send to this address:</label>
                        <div class="flex items-center space-x-2">
                            <input type="text" value="${cryptoAddresses[cryptoCurrency]}" readonly class="flex-1 px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-sm font-mono">
                            <button onclick="copyToClipboard('${cryptoAddresses[cryptoCurrency]}')" class="px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm">
                                Copy
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('Address copied to clipboard!');
            });
        }

        // Initialize PayPal button
        paypal.Buttons({
            createOrder: function(data, actions) {
                return actions.order.create({
                    purchase_units: [{
                        amount: {
                            value: selectedPrice.toString()
                        },
                        description: `${selectedLicense === 'commercial' ? 'Commercial' : 'Enterprise'} License - Identity Protocol`
                    }]
                });
            },
            onApprove: function(data, actions) {
                return actions.order.capture().then(function(details) {
                    // Handle successful payment
                    const licenseKey = generateLicenseKey(selectedLicense);
                    showSuccess(licenseKey);
                });
            }
        }).render('#paypalButton');

        function generateLicenseKey(type) {
            const prefix = type === 'commercial' ? 'COM' : 'ENT';
            const timestamp = Date.now();
            const random = Math.random().toString(36).substring(2, 8);
            return `${prefix}_${timestamp}_${random}`.toUpperCase();
        }

        function showSuccess(licenseKey) {
            document.getElementById('paymentForm').innerHTML = `
                <div class="text-center py-8">
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">Payment Successful!</h2>
                    <p class="text-gray-600 mb-6">Your license has been activated successfully.</p>
                    <div class="bg-gray-50 rounded-lg p-4 mb-6">
                        <h3 class="font-semibold text-gray-900 mb-2">Your License Key</h3>
                        <div class="flex items-center space-x-2">
                            <input type="text" value="${licenseKey}" readonly class="flex-1 px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-sm font-mono">
                            <button onclick="copyToClipboard('${licenseKey}')" class="px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm">
                                Copy
                            </button>
                        </div>
                    </div>
                    <p class="text-sm text-gray-600 mb-6">
                        Add this license key to your dashboard to activate commercial features.
                    </p>
                    <a href="/dashboard" class="inline-block bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors">
                        Go to Dashboard
                    </a>
                </div>
            `;
        }

        // Add event listeners for crypto currency selection
        document.addEventListener('change', function(e) {
            if (e.target.name === 'cryptoCurrency') {
                updateCryptoPayment();
            }
        });
    </script>
</body>
</html>
