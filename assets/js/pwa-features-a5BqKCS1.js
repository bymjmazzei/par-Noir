var e=(e,r,s)=>new Promise((a,o)=>{var i=e=>{try{n(s.next(e))}catch(r){o(r)}},t=e=>{try{n(s.throw(e))}catch(r){o(r)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(i,t);n((s=s.apply(e,r)).next())});import{r,j as s,L as a,n as o,A as i,K as t}from"./react-vendor-CQugEivN.js";const n=({pwaState:a,onInstall:o,onExport:i})=>{const[t,n]=r.useState(!1);return a.isInstalled?s.jsxDEV("button",{onClick:()=>e(null,null,function*(){n(!0);try{i&&(yield i())}catch(e){}finally{n(!1)}}),disabled:t,className:"pwa-button",title:"Export Data",children:t?"Exporting...":"Export"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWAInstall.tsx",lineNumber:48,columnNumber:7},void 0):s.jsxDEV("button",{onClick:()=>e(null,null,function*(){if(o)try{yield o()}catch(e){}}),disabled:a.isInstalling,className:"pwa-button",title:"Install App",children:a.isInstalling?"Installing...":"Install"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWAInstall.tsx",lineNumber:61,columnNumber:5},void 0)},d=Object.freeze(Object.defineProperty({__proto__:null,default:({isLocked:n,onUnlock:d,onFallback:l})=>{const[c]=r.useState(!1),[m]=r.useState(null),[p]=r.useState(!1);r.useEffect(()=>{(()=>{const e=/iPad|iPhone|iPod/.test(navigator.userAgent),r=/Android/.test(navigator.userAgent);e||r?u():d()})()},[d]);const u=()=>e(null,null,function*(){try{if(!window.PublicKeyCredential)return void d();(yield navigator.credentials.create({publicKey:{challenge:new Uint8Array(32),rp:{name:"Par Noir"},user:{id:new Uint8Array(16),name:"user@example.com",displayName:"User"},pubKeyCredParams:[{alg:-7,type:"public-key"}],timeout:6e4}}))&&d()}catch(e){d()}});return n&&p?s.jsxDEV("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center z-50",children:s.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 w-full max-w-md mx-4 shadow-2xl",children:[s.jsxDEV("div",{className:"text-center mb-8",children:[s.jsxDEV("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4",children:s.jsxDEV(a,{className:"w-8 h-8 text-white"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:79,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:78,columnNumber:11},void 0),s.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"par Noir Locked"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:81,columnNumber:11},void 0),s.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"Use your device's security to unlock"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:84,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:77,columnNumber:9},void 0),m&&s.jsxDEV("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsxDEV("p",{className:"text-red-600 dark:text-red-400 text-sm",children:m},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:92,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:91,columnNumber:11},void 0),s.jsxDEV("div",{className:"space-y-4",children:[s.jsxDEV("button",{onClick:u,disabled:c,className:"w-full flex items-center justify-center space-x-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 px-6 rounded-xl font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsxDEV(o,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:104,columnNumber:13},void 0),s.jsxDEV("span",{children:c?"Authenticating...":"Use Biometrics"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:105,columnNumber:13},void 0),s.jsxDEV(i,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:108,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:99,columnNumber:11},void 0),s.jsxDEV("button",{onClick:l,disabled:c,className:"w-full flex items-center justify-center space-x-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-4 px-6 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsxDEV(t,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:117,columnNumber:13},void 0),s.jsxDEV("span",{children:"Use Passcode"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:118,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:112,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:97,columnNumber:9},void 0),s.jsxDEV("div",{className:"mt-8 text-center",children:s.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Your device's native security system will be used for authentication"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:124,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:123,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:75,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/PWALockScreen.tsx",lineNumber:74,columnNumber:5},void 0):null}},Symbol.toStringTag,{value:"Module"}));export{n as P,d as a};
