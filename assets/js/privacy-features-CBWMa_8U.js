var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(a,s,i)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[s]=i,d=(e,a)=>{for(var s in a||(a={}))r.call(a,s)&&o(e,s,a[s]);if(i)for(var s of i(a))n.call(a,s)&&o(e,s,a[s]);return e},c=(e,i)=>a(e,s(i));import{r as t,j as m}from"./react-vendor-CQugEivN.js";import"./qr-CUcyLVYE.js";import"./vendor-BERG7lu9.js";const l=({isOpen:e,onClose:a,settings:s,onSettingsChange:i})=>{const[r,n]=t.useState(s),o=Object.entries(r.dataPoints).reduce((e,[a,s])=>(e[s.category]||(e[s.category]=[]),e[s.category].push(d({key:a},s)),e),{}),l=(e,a)=>{const s=c(d({},r),{[e]:a});n(s),i(s)};return e?m.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 overflow-y-auto p-4 sm:p-6",children:m.jsxDEV("div",{className:"bg-modal-bg rounded-lg p-6 max-w-4xl w-full mx-4 my-8 max-h-[90vh] overflow-y-auto text-text-primary",children:[m.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[m.jsxDEV("h2",{className:"text-xl font-semibold",children:"Privacy & Sharing Settings"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:90,columnNumber:11},void 0),m.jsxDEV("button",{onClick:a,className:"text-gray-500 hover:text-gray-700",children:"âœ•"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:91,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:89,columnNumber:9},void 0),m.jsxDEV("div",{className:"space-y-8",children:[m.jsxDEV("div",{className:"bg-secondary border border-border rounded-lg p-4",children:[m.jsxDEV("h3",{className:"text-lg font-medium text-text-primary mb-3",children:"Global Settings"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:97,columnNumber:13},void 0),m.jsxDEV("p",{className:"text-sm text-text-secondary mb-4",children:"These settings override all tool-specific permissions"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:98,columnNumber:13},void 0),m.jsxDEV("div",{className:"space-y-3",children:[m.jsxDEV("label",{className:"flex items-center justify-between",children:[m.jsxDEV("div",{children:[m.jsxDEV("div",{className:"font-medium",children:"Allow All Tool Access"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:105,columnNumber:19},void 0),m.jsxDEV("div",{className:"text-sm text-text-secondary",children:"Override all tool permissions"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:106,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:104,columnNumber:17},void 0),m.jsxDEV("input",{type:"checkbox",checked:r.allowAllToolAccess,onChange:e=>l("allowAllToolAccess",e.target.checked),className:"ml-4"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:108,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:103,columnNumber:15},void 0),m.jsxDEV("label",{className:"flex items-center justify-between",children:[m.jsxDEV("div",{children:[m.jsxDEV("div",{className:"font-medium",children:"Allow Analytics"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:118,columnNumber:19},void 0),m.jsxDEV("div",{className:"text-sm text-text-secondary",children:"Share usage analytics"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:119,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:117,columnNumber:17},void 0),m.jsxDEV("input",{type:"checkbox",checked:r.allowAnalytics,onChange:e=>l("allowAnalytics",e.target.checked),className:"ml-4"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:121,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:116,columnNumber:15},void 0),m.jsxDEV("label",{className:"flex items-center justify-between",children:[m.jsxDEV("div",{children:[m.jsxDEV("div",{className:"font-medium",children:"Allow Marketing"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:131,columnNumber:19},void 0),m.jsxDEV("div",{className:"text-sm text-text-secondary",children:"Allow marketing communications"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:132,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:130,columnNumber:17},void 0),m.jsxDEV("input",{type:"checkbox",checked:r.allowMarketing,onChange:e=>l("allowMarketing",e.target.checked),className:"ml-4"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:134,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:129,columnNumber:15},void 0),m.jsxDEV("label",{className:"flex items-center justify-between",children:[m.jsxDEV("div",{children:[m.jsxDEV("div",{className:"font-medium",children:"Allow Third-Party Sharing"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:144,columnNumber:19},void 0),m.jsxDEV("div",{className:"text-sm text-text-secondary",children:"Share data with external services"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:145,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:143,columnNumber:17},void 0),m.jsxDEV("input",{type:"checkbox",checked:r.allowThirdPartySharing,onChange:e=>l("allowThirdPartySharing",e.target.checked),className:"ml-4"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:147,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:142,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:102,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:96,columnNumber:11},void 0),Object.keys(o).length>0&&m.jsxDEV("div",{children:[m.jsxDEV("h3",{className:"text-lg font-medium mb-4",children:"Data Access Control"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:160,columnNumber:15},void 0),m.jsxDEV("p",{className:"text-sm text-text-secondary mb-4",children:"Control access to specific data points. Global settings override individual tool permissions."},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:161,columnNumber:15},void 0),Object.entries(o).map(([e,a])=>m.jsxDEV("div",{className:"mb-6",children:[m.jsxDEV("h4",{className:"font-medium text-text-primary mb-3 capitalize",children:[e," Data"]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:167,columnNumber:19},void 0),m.jsxDEV("div",{className:"space-y-3",children:a.map(({key:e,label:a,description:s,globalSetting:o,requestedBy:t})=>m.jsxDEV("div",{className:"border border-border rounded-lg p-3",children:m.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[m.jsxDEV("div",{children:[m.jsxDEV("div",{className:"font-medium",children:a},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:173,columnNumber:29},void 0),m.jsxDEV("div",{className:"text-sm text-text-secondary",children:s},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:174,columnNumber:29},void 0),m.jsxDEV("div",{className:"text-xs text-text-secondary mt-1",children:["Requested by: ",t.join(", ")]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:175,columnNumber:29},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:172,columnNumber:27},void 0),m.jsxDEV("input",{type:"checkbox",checked:o,onChange:a=>((e,a)=>{const s=c(d({},r),{dataPoints:c(d({},r.dataPoints),{[e]:c(d({},r.dataPoints[e]),{globalSetting:a})})});n(s),i(s)})(e,a.target.checked),className:"ml-4"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:179,columnNumber:27},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:171,columnNumber:25},void 0)},e,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:170,columnNumber:23},void 0))},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:168,columnNumber:19},void 0)]},e,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:166,columnNumber:17},void 0))]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:159,columnNumber:13},void 0),Object.keys(r.toolPermissions).length>0&&m.jsxDEV("div",{children:[m.jsxDEV("h3",{className:"text-lg font-medium mb-4",children:"Tool Permissions"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:197,columnNumber:15},void 0),m.jsxDEV("p",{className:"text-sm text-text-secondary mb-4",children:"Manage permissions for individual tools"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:198,columnNumber:15},void 0),m.jsxDEV("div",{className:"space-y-4",children:Object.entries(r.toolPermissions).map(([e,a])=>m.jsxDEV("div",{className:"border border-border rounded-lg p-4",children:[m.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[m.jsxDEV("div",{children:[m.jsxDEV("div",{className:"font-medium",children:a.toolName},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:207,columnNumber:25},void 0),m.jsxDEV("div",{className:"text-sm text-text-secondary",children:a.toolDescription},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:208,columnNumber:25},void 0),m.jsxDEV("div",{className:"text-xs text-text-secondary",children:["Status: ",a.status," â€¢ Granted: ",new Date(a.grantedAt).toLocaleDateString()]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:209,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:206,columnNumber:23},void 0),m.jsxDEV("button",{onClick:()=>(e=>{const a=c(d({},r),{toolPermissions:c(d({},r.toolPermissions),{[e]:c(d({},r.toolPermissions[e]),{status:"revoked"})})});n(a),i(a)})(e),className:"text-red-600 text-sm hover:text-red-800",children:"Revoke Access"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:213,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:205,columnNumber:21},void 0),a.dataPoints.length>0&&m.jsxDEV("div",{className:"space-y-2",children:[m.jsxDEV("div",{className:"text-sm font-medium text-text-primary",children:"Data Access:"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:223,columnNumber:25},void 0),a.dataPoints.map(s=>{const o=r.dataPoints[s];return m.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[m.jsxDEV("span",{className:"text-text-secondary",children:(null==o?void 0:o.label)||s},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:228,columnNumber:31},void 0),m.jsxDEV("input",{type:"checkbox",checked:a.dataPoints.includes(s),onChange:a=>((e,a,s)=>{const o=r.toolPermissions[e],t=s?[...o.dataPoints,a]:o.dataPoints.filter(e=>e!==a),m=c(d({},r),{toolPermissions:c(d({},r.toolPermissions),{[e]:c(d({},o),{dataPoints:t})})});n(m),i(m)})(e,s,a.target.checked),disabled:r.allowAllToolAccess,className:"ml-2"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:229,columnNumber:31},void 0)]},s,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:227,columnNumber:29},void 0)})]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:222,columnNumber:23},void 0)]},e,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:204,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:202,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:196,columnNumber:13},void 0),0===Object.keys(r.dataPoints).length&&0===Object.keys(r.toolPermissions).length&&m.jsxDEV("div",{className:"text-center py-8 text-text-secondary",children:[m.jsxDEV("p",{children:"No data points or tool permissions yet"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:251,columnNumber:15},void 0),m.jsxDEV("p",{className:"text-sm",children:"Data points will appear here as tools request access"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:252,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:250,columnNumber:13},void 0),m.jsxDEV("div",{className:"flex space-x-3 pt-4 border-t border-border",children:[m.jsxDEV("button",{onClick:a,className:"flex-1 modal-button py-2 px-4 rounded-md transition-colors",children:"Save Settings"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:258,columnNumber:13},void 0),m.jsxDEV("button",{onClick:()=>n(s),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-md hover:bg-gray-300 transition-colors",children:"Reset"},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:264,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:257,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:94,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:88,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/gamit/pages/par-Noir/apps/id-dashboard/src/components/EnhancedPrivacyPanel.tsx",lineNumber:87,columnNumber:5},void 0):null};export{l as EnhancedPrivacyPanel};
